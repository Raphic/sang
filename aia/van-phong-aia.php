<!DOCTYPE html>
<html  lang="vi" prefix="">
   <meta http-equiv="content-type" content="text/html;charset=utf-8" />
   <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="keywords" content="bảo hiểm nhân thọ, bao hiem nhan tho, công ty bảo hiểm nhân thọ, AIA vietnam, cong ty bao hiem nhan tho, AIA Việt Nam"/>
      <meta name="description" content="Thông tin về các văn phòng của AIA theo vị trí của bạn."/>
      <meta name="format-detection" content="telephone=no">
      <script type="text/javascript">
         function fallbackSvgs() {
             if (!/Safari|iPhone|iPad|iPod/.test(navigator.userAgent) || !/Apple Computer/.test(navigator.vendor)) return;
             var svgs=document.getElementsByTagName('svg');
             while (svgs.length) {
                 var svg=svgs[0];
                 var img=svg.getElementsByTagName('image')[0];
                 img.classList.remove('icon-fallback');
                 svg.outerHTML=img.outerHTML.replace('image','img');
             }
         }
         
         if(document.addEventListener){
             document.addEventListener('DOMContentLoaded', function(event) {
                 fallbackSvgs();
             });
         }
      </script>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="icon" href="http://www.aia.com.vn/favicon.ico">
      <link rel="stylesheet" href="../../etc/clientlibs/aia/aia-header.min.12190c80fd91b4eccde98e9ff8b065f8.css" type="text/css"/>
      <script type="text/javascript" src="../../etc/clientlibs/aia/aia-header.min.0e0a259e5b0465d894c27c2f951779d0.js"></script>
      <link rel="canonical" href="van-phong-aia.html"/>
      <link rel="stylesheet" href="../../etc/clientlibs/aia/fonts/viet.min.c56fbee827e3700c67855877606d0520.css" type="text/css"/>
      <link rel="stylesheet" href="../../etc/clientlibs/aia/fonts/noto-common.min.d50b2173060257804def3128f7c7aeba.css" type="text/css"/>
      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!--[if lte IE 9]>
      <link rel="stylesheet" href="/etc/clientlibs/aia/ie-fixes.min.css" type="text/css"/>
      <script type="text/javascript" src="/etc/clientlibs/aia/ie-fixes.min.js"></script>
      <![endif]-->
      <script src="../../../assets.adobedtm.com/90c58d4aa8a1b33beefab4bf8138774c1a1a4147/satelliteLib-102328dd03590e6b6bc12f7e8c856676ce3ee71b.js"></script>
      <title>AIA | Danh sách văn phòng</title>
   </head>
   <body>
      <div>
         <a id="gotocontent" href="#main" class="lk2 gotocontent" tabindex="1">Vào trang chính
         </a>
      </div>
       <!---------------------Menu-------------------------->
        <?php
            include 'include/menu.php';
        ?>
       <!---------------------End Menu-------------------->
      <div role="main" id="main" tabindex="11000"></div>
      <script>
         var aiaDatalayer ={
         			pageInfo:{
         				'pageType':'AIA Blank Page',
         				'channel':'corporate',
         			},
         			profile:{
         				'myAIAUserLoginID':''
         			}
            }
      </script>
      <div class="container">
         <div class="parsys content">
            <div class="grid-control-1-col section">
               <div class="row margin-bottom-m">
                  <div class="col col-md-12 col-sm-12 col-xs-12 col-md-offset-0 col-sm-offset-0 col-xs-offset-0 ">
                     <div>
                        <div class="section title">
                           <h1 class="h2 text-center p4 margin-top-md-5xl margin-bottom-md-3xl margin-top-5xl margin-bottom-m ">
                              văn phòng aia
                           </h1>
                        </div>
                        <div class="section html-script">
                           <div id="text1" class="text-center"></div>
                        </div>
                        <div class="grid-control-2-col section">
                           <div class="row margin-top-l action-headercontainer">
                              <div class="col col-md-2 col-sm-2 col-xs-12 col-md-offset-3 col-sm-offset-3 col-xs-offset-0 ">
                                 <div>
                                    <div class="section html-script">
                                       <div id="text2" class=" text-center margin-top-xxs">
                                          tại
                                       </div>
                                    </div>
                                    <div class="parbase section text">
                                       <div class="aia-text cq-text-placeholder-ipe  p4 bt3 margin-bottom-md-l margin-bottom-sm-l margin-bottom-l" data-emptytext="Text">
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <div class="col col-md-3 col-sm-3 col-xs-12 no-padding-md no-padding-sm">
                                 <div>
                                    <div class="form-dropdown section form-base">
                                       <select class="primary-select parent-width" name="location" id="aia926988479" style="color: #;">
                                          <option value="NaN,NaN@14" selected>vị trí của bạn</option>
                                          <option value="10.375684827675475,105.44070794973759@18" style="color: rgb(85, 67, 68);">An Giang</option>
                                          <option value="10.351166434203241,107.07938030226902@17" style="color: rgb(85, 67, 68);">Bà Rịa - Vũng Tàu</option>
                                          <option value="21.274666981498886,106.20166652380372@16" style="color: rgb(85, 67, 68);">Bắc Giang</option>
                                          <option value="21.182105636193103,106.06881894841003@17" style="color: rgb(85, 67, 68);">Bắc Ninh</option>
                                          <option value="10.233256683456137,106.38393990807342@17" style="color: rgb(85, 67, 68);">Bến Tre</option>
                                          <option value="13.775725878000223,109.23134732015991@14" style="color: rgb(85, 67, 68);">Bình Định</option>
                                          <option value="10.98545648426548,106.68477996693426@16" style="color: rgb(85, 67, 68);">Bình Dương</option>
                                          <option value="11.537321329195295,106.89502300000004@16" style="color: rgb(85, 67, 68);">Bình Phước</option>
                                          <option value="10.948337182388432,108.1075741494599@16" style="color: rgb(85, 67, 68);">Bình Thuận</option>
                                          <option value="9.1820750698153,105.15343895128171@15" style="color: rgb(85, 67, 68);">Cà Mau</option>
                                          <option value="10.042239513433898,105.76830638085941@13" style="color: rgb(85, 67, 68);">Cần Thơ (TP)</option>
                                          <option value="16.06049994258367,108.2103459364014@14" style="color: rgb(85, 67, 68);">Đà Nẵng</option>
                                          <option value="12.69101747094477,108.053616@16" style="color: rgb(85, 67, 68);">Đắc Lắc</option>
                                          <option value="10.981201636199975,106.84769400000008@16" style="color: rgb(85, 67, 68);">Đồng Nai</option>
                                          <option value="10.46049508036984,105.6315866005555@15" style="color: rgb(85, 67, 68);">Đồng Tháp</option>
                                          <option value="13.979803528877637,108.0122759999999@16" style="color: rgb(85, 67, 68);">Gia Lai</option>
                                          <option value="21.025898025720462,105.76689108700563@12" style="color: rgb(85, 67, 68);">Hà Nội</option>
                                          <option value="18.34884783410011,105.89020180950936@15" style="color: rgb(85, 67, 68);">Hà Tĩnh</option>
                                          <option value="10.812575675437113,106.69745689428716@12" style="color: rgb(85, 67, 68);">Hồ Chí Minh</option>
                                          <option value="20.933094583316585,106.31438702099605@13" style="color: rgb(85, 67, 68);">Hải Dương</option>
                                          <option value="20.859983542404237,106.68722966137692@17" style="color: rgb(85, 67, 68);">Hải Phòng</option>
                                          <option value="20.946050583313475,106.067093@16" style="color: rgb(85, 67, 68);">Hưng Yên</option>
                                          <option value="12.246298596168304,109.19109824871826@15" style="color: rgb(85, 67, 68);">Khánh Hòa</option>
                                          <option value="9.992151,105.09384@13" style="color: rgb(85, 67, 68);">Kiên Giang</option>
                                          <option value="14.365454085293111,107.99770299999996@16" style="color: rgb(85, 67, 68);">Kon Tum</option>
                                          <option value="11.9385292,108.4300664@13" style="color: rgb(85, 67, 68);">Lâm Đồng</option>
                                          <option value="10.538042,106.405247@13" style="color: rgb(85, 67, 68);">Long An</option>
                                          <option value="20.436353,106.158829@13" style="color: rgb(85, 67, 68);">Nam Định</option>
                                          <option value="18.686568,105.690724@13" style="color: rgb(85, 67, 68);">Nghệ An</option>
                                          <option value="20.266831,105.9651732@13" style="color: rgb(85, 67, 68);">Ninh Bình</option>
                                          <option value="11.594081,108.955559@13" style="color: rgb(85, 67, 68);">Ninh Thuận</option>
                                          <option value="21.310618,105.400439@13" style="color: rgb(85, 67, 68);">Phú Thọ</option>
                                          <option value="13.095493,109.31227@13" style="color: rgb(85, 67, 68);">Phú Yên</option>
                                          <option value="17.468989,106.610136@13" style="color: rgb(85, 67, 68);">Quảng Bình</option>
                                          <option value="15.724825228132113,108.41897595986943@11" style="color: rgb(85, 67, 68);">Quảng Nam</option>
                                          <option value="15.121026119097078,108.79410834381106@15" style="color: rgb(85, 67, 68);">Quảng Ngãi</option>
                                          <option value="20.951890514486536,107.08362803865364@16" style="color: rgb(85, 67, 68);">Quảng Ninh</option>
                                          <option value="16.81501915737383,107.100818@16" style="color: rgb(85, 67, 68);">Quảng Trị</option>
                                          <option value="9.60315080705668,105.97396008465577@16" style="color: rgb(85, 67, 68);">Sóc Trăng</option>
                                          <option value="21.32852107693889,103.913648@16" style="color: rgb(85, 67, 68);">Sơn  La</option>
                                          <option value="11.323368671437757,106.10093200000009@16" style="color: rgb(85, 67, 68);">Tây Ninh</option>
                                          <option value="20.441381303647088,106.33958600000004@16" style="color: rgb(85, 67, 68);">Thái Bình</option>
                                          <option value="21.58705276937572,105.84263946038827@14" style="color: rgb(85, 67, 68);">Thái Nguyên</option>
                                          <option value="19.802999967166457,105.77431865866079@14" style="color: rgb(85, 67, 68);">Thanh Hóa</option>
                                          <option value="16.459316059687918,107.59152199999991@16" style="color: rgb(85, 67, 68);">Thừa Thiên Huế</option>
                                          <option value="10.36136052175347,106.367547666626@16" style="color: rgb(85, 67, 68);">Tiền Giang</option>
                                          <option value="9.928176234774941,106.33866010000001@16" style="color: rgb(85, 67, 68);">Trà Vinh</option>
                                          <option value="10.24018039070852,105.98189700000002@16" style="color: rgb(85, 67, 68);">Vĩnh Long</option>
                                          <option value="21.324840966387598,105.59957099999995@16" style="color: rgb(85, 67, 68);">Vĩnh Phúc</option>
                                          <option value="21.720690619298374,104.90681599999994@16" style="color: rgb(85, 67, 68);">Yên Bái</option>
                                          <option value="21.818341597843453,105.21200999999992@16" style="color: rgb(85, 67, 68);">Tuyên Quang</option>
                                       </select>
                                       <div class="fieldError label-error" id="aia926988479_msg"></div>
                                       <script type="text/javascript">
                                          +function ($) { "use strict";
                                          
                                              $( "#aia926988479" ).click(function() {
                                                  var current = $(this).val();
                                                  if (current != null) {
                                                  	$("#aia926988479").css('color','#554344');
                                                  }
                                          
                                              });
                                          
                                          $( "#aia926988479" ).change(function() {
                                              	$(this).css({'color': '#554344'});
                                              });
                                          
                                          }(jQuery);
                                          
                                       </script>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <div class="section html-script">
                           <div id ="text3" class="text-center margin-top-l"></div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="section html-script">
               <div id="message" class="margin-bottom-l"></div>
            </div>
         </div>
      </div>
      <div class="parsys full-content">
         <div class="grid-control-1-col section">
            <div class="row ">
               <div class="col col-md-12 col-sm-12 col-xs-12 col-md-offset-0 col-sm-offset-0 col-xs-offset-0 ">
                  <div>
                     <div class="section html-script">
                        <!--div id="zoomlevel"></div>
                           <button type="button" id="getzoom">Get Zoom</button--> 
                        <div style="padding-left: 22px; padding-right: 22px">
                           <div id="map" class="margin-bottom-l"></div>
                        </div>
                        <script>
                           var map;
                           var imageBase = 'http://www.aia.com.vn/content/dam/aia/icons/';
                           var cardContainer = 'action-listcards';
                           var mapBounds = null;
                           var loadRunning = false;
                           var cardHtml = '<div class="card-place"><a href="#"><div class="block card-4 card-border-top-t7"><div class="content card-vertical-separator-bottom"><div class="title" style="min-height: 56px"><h4 style="padding-top: 0px; width: 300px; "></h4><div class="glyph-r-arrow"><svg class="icon icon-m hide-on-fallback " role="img"><g><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.aia.com.vn/content/dam/aia/icons/icons.svg#arrow-2ndg"></use><image class="icon-fallback" src="/content/dam/aia/icons/secondary/arrow-2ndg.png" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="" alt="arrow"></image></g></svg></div></div><div class="card-4-firstline"></div></div><div class="content"></div></div></a></div>'
                           var cardColours = {
                           	aia: '#E86487',
                           	ga: '#97CB5D'
                           };
                           var minZoom = 10;
                           var activeInfoWindow = null;
                           var moreInfoText = 'Xem thêm';
                           var fieldPrefixes = {
                           	phone: 'Số điện thoại',
                           	hours: 'Giờ làm việc'
                           };
                           var gpsCoords = null;
                           var isPageSetupComplete = false;
                           
                           var longestAddressLine = 0;
                           
                           $(function() {
                           	// Setup the form
                           	var $filter = $('div.action-filtercollapse').parent().addClass('collapse');
                           	if (undefined === $filter.attr('id')) $filter.attr('id', 'action-filtercollapse');
                           
                           	$('div.action-filterbutton button')
                           		.addClass('btn-filter')
                           		.attr({
                           			'data-toggle': 'collapse',
                           			'data-target': '#'+$filter.attr('id'),
                           			'aria-expanded': 'false',
                           			'aria-controls': $filter.attr('id')
                           		});
                           	
                           	$('input[name="distance"]').on('blur', function(e) {
                           		var $this = $(this);
                           		if ('' !== $this.val()) {
                           			$this.val($this.val().replace(/ +km$/i, '')+' km');
                           		}
                           	});
                           	$('div.action-filtersubmit button').on('click', function(e) {
                           		e.preventDefault();
                           		e.stopImmediatePropagation();
                           
                           		if(!validateFormFields()) return false;
                           		createCards([]);
                           		return false;
                           	});
                           	$('select[name="order"]').on('change', function(e) {
                           		e.preventDefault();
                           		e.stopImmediatePropagation();
                           		createCards([]);
                           		return false;
                           	});
                           	$('select[name="location"]').on('change', function(e) {
                           		e.preventDefault();
                           		e.stopImmediatePropagation();
                           		var parts = $(this).val().split(/^([.\d]+|NaN),([.\d]+|NaN)@([.\d]+)$/);
                           		if (1 === parts.length) return;
                           		var lat=Number(parts[1]), lng=Number(parts[2]), zoom=Number(parts[3]);
                           		if ('NaN' == lat && null !== gpsCoords) {
                           			map.panTo(gpsCoords);
                           			map.setZoom(zoom);
                           		} else {
                           			map.panTo(new google.maps.LatLng(lat, lng));
                           			map.setZoom(zoom);
                           		}
                           		// Do this incase there was no need to update
                           		createCards([]);
                           	});
                           	
                           	// Prepare the card container
                           	$('div.container:has(div.'+cardContainer+')')
                           		.empty()
                           		.addClass(cardContainer+' no-padding-md no-padding-sm no-padding-xs')
                           		.data('locations', []);
                           
                           	// Register handlers
                           	$(document).on('click', '.iwlink a', function(e) {
                           		scrollToElement($($(this).attr('href')));
                           		e.preventDefault();
                           		e.stopImmediatePropagation();
                           		return false;
                           	});
                           
                           	isPageSetupComplete = true;
                           /*
                           	$("#getzoom").click(function(){
                           		$("#zoomlevel").html("Current zoom level:" + map.getZoom() + " center" + map.getCenter() + " value:" + map.getCenter().lat() + ","+  map.getCenter().lng() + "@" + map.getZoom());
                           	});
                           */
                           });
                           
                           
                           /**
                            * Google maps callback function
                            */
                           function initMap() {	
                           	// If no location, take this as a default
                           	var initialLocation = new google.maps.LatLng(10.764011,106.683209);
                           	var zoom=14;	
                           	if (navigator.geolocation) {		
                           		navigator.geolocation.getCurrentPosition(
                           			function (position) {
                           				initialLocation = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
                           				gpsCoords = initialLocation;
                           				showMap(initialLocation, zoom);
                           			},
                           			function (positionError) {
                           				showMap(initialLocation, zoom);
                           			},
                           			{
                           				enableHighAccuracy: false,
                           				timeout: 5000,
                           				maximumAge: 60000
                           			}
                           		);
                           	} else {				
                           		showMap(initialLocation, zoom);
                           	}
                           }
                           
                           function showMap(location, zoom) {
                           	// If no GPS, disable the nearest sorting
                           	if (null == gpsCoords) {
                           		$('select[name="order"] option[value="1"]').prop('disabled', true);
                           		$('select[name="location"] option:first-of-type').prop('disabled', true);
                           		$('select[name="location"]').val('10.812575675437113,106.69745689428716@12');
                           		$("#text1").html("<p>Tại văn phòng : Tầng 4 tòa nhà Viettel, số 16 đường Xô Viết Nghệ Tĩnh, Tp Hà Tĩnh</p>");
                           		$("#text2").html("tại đây");
                           		$("#text3").html("<p>Hoặc qua điện thoại :0989.77.66.49</p>");
                           	} else {
                           		$("#text1").html("");
                           		$("#text2").html("tại");
                           		$("#text3").html("");
                           	}
                           
                           	// Load the map
                           	map = new google.maps.Map(document.getElementById('map'), {
                           		center: location,
                           		zoom: zoom
                           	});
                           	map.addListener('bounds_changed', loadCards);
                           }
                           
                           function loadCards() {
                           	if (loadRunning) return; // only one Ajax call at a time
                           	loadRunning = true;
                           
                           	// if the zoom is too high, don't load
                           	if (map.getZoom() < minZoom) return;
                           
                           	// Get the current map bounds
                           	var nowMapBounds = map.getBounds();
                           	var sw = nowMapBounds.getSouthWest();
                           	var ne = nowMapBounds.getNorthEast();
                           	var span = nowMapBounds.toSpan();
                           
                           	// If within half a screen of the edge, then no-need to load
                           	if (null != mapBounds) {
                           		var latdist = span.lat()/2;
                           		var lngdist = span.lng()/2;
                           		// if the map bounds are all within half a screen of the larger
                           		if (((mapBounds.getNorthEast().lat()-latdist) - ne.lat())>=0 && 
                           		    ((mapBounds.getNorthEast().lng()-lngdist) - ne.lng())>=0 && 
                           		    ((mapBounds.getSouthWest().lat()+latdist) - sw.lat())<=0 && 
                           		    ((mapBounds.getSouthWest().lng()+lngdist) - sw.lng())<=0) {
                           			loadRunning=false;
                           			return;
                           		}
                           	}
                           
                           	// Calculate how much data to grab (+1 screen each way)
                           	ne = new google.maps.LatLng(ne.lat()+span.lat(), ne.lng()+span.lng())
                           	sw = new google.maps.LatLng(sw.lat()-span.lat(), sw.lng()-span.lng())
                           	mapBounds = new google.maps.LatLngBounds(sw, ne);
                           
                           	// Actually, override that clever maths and load all - remove if loading data on map bounds
                           	ne = new google.maps.LatLng(90, 180);
                           	sw = new google.maps.LatLng(-90, -180);
                           	mapBounds = new google.maps.LatLngBounds(sw, ne);
                           
                           	// start the load
                           	$.ajax({
                           		url: '/content/dam/vn/vi/js/json/office-location.json',
                           		dataType: 'json',
                           		type: 'GET',
                           		cache: false,
                           		data: {
                           			n: ne.lat(),
                           			e: ne.lng(),
                           			s: sw.lat(),
                           			w: sw.lng()
                           		}
                           	}).done(function(data, textStatus, jqXHR) {
                           		if (jqXHR.status === 200) createCards(data);
                           		loadRunning = false;
                           	}).fail(function(jqXHR, textStatus, errorThrown) {
                           		loadRunning = false;
                           	});
                           }
                           
                           
                           function createCards(data) {
                           	// Synchronise the two events, Google maps load and the page load.
                           	// This prevents a race condition
                           	if (!isPageSetupComplete) {
                           		setTimeout(function() { createCards(data); }, 0);
                           		return;
                           	}
                           
                           	var $cards = $('<div>');
                           	var $cardContainer = $('div.'+cardContainer);
                           
                           	// see if we need to extend the address length
                           	for (var i=0; i<data.length; i++) {
                           		data[i].address = data[i].address.trim();
                           		if (data[i].address.length > longestAddressLine) longestAddressLine = data[i].address.length;
                           	}
                           
                           	data = $.extend($cardContainer.data('locations'), data);
                           	
                           
                           	// Get the max distance
                           	var maxDistance = $('input[name="distance"]').val();
                           	if ('' === maxDistance) {
                           		maxDistance = null;
                           	} else {
                           		maxDistance = Number(maxDistance.replace(/ ?km$/, ''))*1000;
                           	}
                           
                           	var selectedCity = null;
                           	var $locationSelected = $('select[name="location"] option:selected');
                           	if ($locationSelected.val().substr(0,3) !== "NaN") {
                           		selectedCity = $locationSelected.text();
                           	}
                           
                           	// First filter - less data to short after
                           	var newdata = [];
                           	for (var i=0; i<data.length; i++) {
                           		// While we are here, calculate the distance if GPS is available
                           		if (null !== gpsCoords) {
                           			data[i].distance = google.maps.geometry.spherical.computeDistanceBetween(gpsCoords, new google.maps.LatLng(data[i].lat, data[i].lng));
                           		}
                           
                           		if (null !== maxDistance && data[i].distance > maxDistance) continue;
                           
                           		// If not the selected city, then filter
                           		if (null !== selectedCity && selectedCity !== data[i].city) continue;
                           
                           		// Do the filter
                           		
                           		newdata.push(data[i]);
                           		
                           	}
                           	data = newdata;
                           
                           	// How to order
                           	var order = Number($('select[name="order"]').val());
                           	if (order === 0) {
                           		if (null !== gpsCoords) {
                           			order = 1;
                           		} else {
                           			order = 2;
                           		}
                           	}
                           
                           
                           	// Order the data
                           	data.sort(function(a, b) {
                           		if (order === 1) {
                           			return (a.distance - b.distance);
                           		} else if (order === 2) {
                           			if (localeCompareSupportsLocales) {
                           				return a.name.localeCompare(b.name, 'ko');
                           			} else {
                           				return a.name.localeCompare(b.name);
                           			}
                           		}
                           	});
                           
                           	// Add the styling
                           	for (var i=0; i<data.length; i++) {
                           		var $card = createCard(data[i]);
                           		if ((i%3) == 0) {
                           			$card.addClass('padding-left-md-0 padding-right-md-3xl');
                           		} else if ((i%3) == 1) {
                           			$card.addClass('padding-left-md-l padding-right-md-l');
                           		} else if ((i%3) == 2) {
                           			$card.addClass('padding-left-md-3xl padding-right-md-0');
                           		}
                           
                           		if ((i%2) == 0) {
                           			$card.addClass('padding-left-sm-0 padding-right-sm-xl');
                           		} else if ((i%2) == 1) {
                           			$card.addClass('padding-left-sm-xl padding-right-sm-0');
                           		}
                           
                           		$cards.append($card);
                           	}
                           
                           	// Take note of any active info window - reopen after
                           	var activeInfoWindowPlaceId = null;
                           	if (activeInfoWindow != null) {
                           		activeInfoWindowPlaceId = activeInfoWindow.placeId;
                           	}
                           
                           	// Place the cards in the container
                           	// TODO: when copying, see if we can copy the existing marker/infowindow rather than re-create. It prevents a nasty screen glitch
                           	$cardContainer
                           		.children().each(function(index, element) {
                           			$(this).data('marker').setMap(null);
                           		})
                           		.end()
                           		.empty()
                           		.append($cards.children('div').each(function(index, element) {
                           			var $this = $(this);
                           			var info = $this.data('info');
                           			var markerOptions = {
                           				position: new google.maps.LatLng(info.lat, info.lng),
                           				map: map
                           			};
                           			if (info.type === "aia") markerOptions.zIndex = 1000;
                           			var marker = new google.maps.Marker(markerOptions);
                           			$this.data('marker', marker);
                           			if (undefined !== info.icon) {
                           				marker.setIcon(info.icon);
                           			}
                           			marker.addListener('click', function() {
                           				if (activeInfoWindow != null)
                           					activeInfoWindow.close();
                           
                           				var infoWindowHtml = '<div class="infoWindow">'+
                           					'<div><span class="iwtitle">'
                           					+info.name+
                           					'</span></div>'+
                           					'<div style="position: relative;">'+					
                           						(("undefined" !== typeof info.distance)?'<span style="margin-left: 20px;" class="iwvalue">'+createDisplayableDistance(info.distance)+'</span>':'')+ // distance
                           					'</div>'+
                           					'<div><span class="iwlink"><a class="lk2" href="#'+$this.attr('id')+'">'+moreInfoText+'</a></span></div>'+
                           					'</div>';
                           				activeInfoWindow = new google.maps.InfoWindow({
                           					content: infoWindowHtml
                           				});
                           				activeInfoWindow.placeId = info.id;
                           				activeInfoWindow.addListener('closeclick', function() {
                           					activeInfoWindow = null;
                           				});
                           				activeInfoWindow.open(map, marker);
                           			});
                           			// Make sure that when the card is clicked, we show the map and the right location
                           			$this.children('a').on('click', function(e) {
                           				var localinfo = $(this).parent().data('info');
                           				scrollToElement($(map.getDiv()));
                           				map.panTo(new google.maps.LatLng(localinfo.lat, localinfo.lng));
                           				if (map.getZoom() < 16) map.setZoom(16);
                           				google.maps.event.trigger(marker, 'click');
                           			}).find('.content a').on('click', function(e) {
                           				e.stopPropagation();
                           				return true;
                           			});
                           			// If this was originally open, re-open
                           			if (null !== activeInfoWindowPlaceId && info.id == activeInfoWindowPlaceId) google.maps.event.trigger(marker, 'click');
                           		}));
                           }
                           
                           function padText(str, finalLen) { // only approximate because of special chars being smaller
                           	var padding = '\x1e\x1f\x1f\x1f\x1f\x1e\x1f\x1f\x1f\x1f\x1e\x1f\x1f\x1f\x1f\x1e\x1f\x1f\x1f\x1f\x1e\x1f\x1f\x1f\x1f';
                           
                           	for (var i = str.length; i < finalLen; i+=padding.length-5) str += padding;
                           	return str.substr(0, finalLen).replace(/\x1f/g, '&nbsp;').replace(/\x1e/g, '<wbr>');
                           }
                           
                           function localeCompareSupportsLocales() {
                           	try {
                           		'foo'.localeCompare('bar', 'i');
                           	} catch (e) {
                           		return e.name === 'RangeError';
                           	}
                           	return false;
                           }
                           
                           /**
                            * Create the contents of a card
                            */
                           function createCard(info) {
                           	var $card = $(cardHtml).attr('id', 'place-'+info.id).data('info', info);
                           	var bodyClass='address';
                           
                           	if (info.name) $card.find('div.title > h4').html(info.name);
                           
                           	$card.find('div.card-4').css('border-top-color', cardColours[info.type]);
                           
                           	if (info.distance) {
                           		$card.find('div.card-4-firstline')
                           			.append($('<span>').addClass('distance').text(createDisplayableDistance(info.distance)));
                           	}
                           
                           	var $contentArea = $card.find('div.content:last-of-type()');
                           	if(info.address)
                           		$contentArea.append($('<div>').addClass(bodyClass).html(padText(info.address, longestAddressLine)));
                           
                           	if(info.hours)
                           		$contentArea.append($('<div>').addClass(bodyClass).css('padding-top', '8px').html('<strong>'+(fieldPrefixes.hours?fieldPrefixes.hours+':<br/>&nbsp;&nbsp;':'')+info.hours.replace('\n','<br/>&nbsp;&nbsp;')+'</strong>'));
                           
                           	if(info.phone) {
                           		$contentArea.append($('<div>').addClass(bodyClass).html('<strong>'+(fieldPrefixes.phone?fieldPrefixes.phone+':':'')+'<a class="lk2" href="tel:'+info.phone+'">'+info.phone+'</a></strong>'));
                           	}
                           	return $card;
                           }
                           
                           /**
                            * Create a displayable distance
                            */
                           function createDisplayableDistance(distance) {
                           	if (Math.round(distance)<1000) {
                           		return Math.round(distance)+'m';
                           	} else if (distance<10000) {
                           		return (Math.round(distance/100)/10)+'km';
                           	} else {
                           		return Math.round(distance/1000)+'km';
                           	}
                           }
                        </script>
                        <script async defer src="https://maps.googleapis.com/maps/api/js?libraries=geometry&amp;key=AIzaSyD7zLwoUilqdZPy_s5neWrwxtsfc7n6IQk&amp;callback=initMap"></script>
                        <style>
                           div.card-place {
                           display: inline-block;
                           width: 100%;
                           display: inline-flex;
                           }
                           #map {
                           height: calc(100vh - 150px);
                           }
                           .infoWindow {
                           font-family: sans-serif;
                           }
                           .infoWindow .iwtitle {
                           font-weight: bold;
                           font-size: 15px;
                           }
                           .infoWindow .iwkey {
                           font-weight: bold;
                           min-width: 40px;
                           }
                           .infoWindow .iwvalue {
                           }
                           /* Card fixups */
                           .card-4 .content .title {
                           margin-bottom: 5px !important;
                           }
                           .card-4 .content .card-4-firstline {
                           position: relative;
                           margin-bottom: 5px !important;
                           }
                           .card-4 .content .card-4-firstline .distance {
                           }
                           .card-4 .content:last-of-type {
                           padding-top: 12px !important;
                           padding-bottom: 16px !important;
                           }
                           /* links get overriden by longer prefixes */
                           .lk2{color:#22A8DA !important;text-decoration:underline !important}
                        </style>
                        <style media="(min-width: 768px)">
                           div.card-place {
                           width: 50%;
                           }
                           .padding-left-sm-0 {
                           padding-left: 0px;
                           }
                           .padding-left-sm-xl {
                           padding-left: 32px;
                           }
                           .padding-right-sm-0 {
                           padding-right: 0px;
                           }
                           .padding-right-sm-xl {
                           padding-right: 32px;
                           }
                           .action-headercontainer p {
                           margin-top: 10px;
                           margin-right: 10px;
                           text-align: right;
                           }
                        </style>
                        <style media="(min-width: 1024px)">
                           .no-padding-sm:first-child {
                           padding-left: 0px;
                           }
                           .no-padding-sm:last-child {
                           padding-right: 0px;
                           }
                        </style>
                        <style media="(min-width: 1200px)">
                           div.card-place {
                           width: 33.3%;
                           }
                           .no-padding-md {
                           padding: 0;
                           }
                           .no-padding-md:first-child {
                           padding-left: 0px;
                           }
                           .no-padding-md:last-child {
                           padding-right: 0px;
                           }
                           .padding-left-md-0 {
                           padding-left: 0px;
                           }
                           .padding-left-md-l {
                           padding-left: 24px;
                           }
                           .padding-left-md-3xl {
                           padding-left: 48px;
                           }
                           .padding-right-md-0 {
                           padding-right: 0px;
                           }
                           .padding-right-md-l {
                           padding-right: 24px;
                           }
                           .padding-right-md-3xl {
                           padding-right: 48px;
                           }
                           #map {
                           margin-left: 50px;
                           margin-right: 50px;
                           }
                           div.card-place
                           { display: inline-flex; } 
                        </style>
                        <style media="(min-height: 640px)">
                           #map {
                           height: 400px;
                           }
                        </style>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="section-container section">
            <section class="text-left" style="background-color:rgba(250,249,243,1);">
               <div class="container ">
                  <div>
                     <div class="aiabase parbase arrow-link section">
                        <div class="action-listcards hide un-bold text-left">
                           <a class="h4 lk1" target="_self" href="#" data-target="#la626287392">
                           Click Here <span class="link-arrow-large"></span>
                           </a>
                        </div>
                     </div>
                  </div>
               </div>
            </section>
         </div>
      </div>
      <div class="container">
         <div class="par parsys"></div>
      </div>
      <!--Popup Footer-->
         <?php
            include 'include/footer.php';
        ?>
        <!--ENd Popup Footer-->
      <div class="modal-content">
         <script type="text/javascript">
            $(function(){
                
                function loadModalContent() {
            
                	var list = [], modalId = [];
            
                    $.ajaxPrefilter(function( options, originalOptions, jqXHR ) {
                        var requestUrl = options.url || originalOptions.url;
                        if (( options.dataType == 'script' || originalOptions.dataType == 'script')
                           && requestUrl.indexOf(location.host) >= 0) {
                            options.cache = true;
                        }
                    });
            
                    $('.aia-modal').each(function(){
            
                        var self = $(this);
                        var target = $(this).attr('data-target'),
                            container = $(this).find('.modal-container');
            
                        var wcmmode = '';
            
                        if(target && container && typeof target!='undefined' && target.length>0 && container.length>0) {
                        	var idx = -1,
                        		btnId = self.attr('id'),
                                param = { parentUrl: "/content/vn/vi/dich-vu-khach-hang/van-phong-aia" };
            
                            if(!Array.prototype.indexOf) {
                                for(var i=0;i<list.length;i++) {
                                    if(list[i]==target) {
            				idx=i;
                                        break;
                                    }
                                }
                            } else {
            		idx = list.indexOf(target);
                            }
            
                            if(wcmmode!='') {
            		param.wcmmode = wcmmode;
                            }
            
                        	if (idx<0) {
                                if(btnId.length>0) {
                                    list.push(target);
                                    modalId.push(btnId);
                                }
                                $.ajax({
                                    url:target,
                                    method:'GET',
                                    data: param
                             }).success(function(data) {
                                    container.html(data);
                                    if( self.data("modalTagMoveTo") == "body" ){
                                        self.appendTo(document.body)
                                    }
                                });
                        	} else {
                        		$('[data-target="#' + btnId +'"]').attr('data-target','#'+modalId[idx]);
                        	}
                        } else if(self.data("modalTagMoveTo")) {
            	if( self.data("modalTagMoveTo") == "body" ){
            		self.detach().appendTo(document.body)
            	}
                        }
                    });
                }
                
                $(document).ready(function () {
                    loadModalContent();
                });
            });
         </script>
      </div>
      <input type="hidden" value="vi" id="website-locale" />
      <script type="text/javascript" src="../../etc/clientlibs/aia/aia-footer.min.403c4e4beebafd40693515cfd227cfe1.js"></script>
      <div class="servicecomponents cloudservices">
         <script type="text/javascript">_satellite.pageBottom();</script>
      </div>
   </body>
</html>